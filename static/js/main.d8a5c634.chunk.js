(this["webpackJsonpcore-values-web-app"]=this["webpackJsonpcore-values-web-app"]||[]).push([[0],Array(24).concat([function(e,a,t){e.exports=t.p+"static/media/BEINSERVICE.d4c992ef.svg"},,,,function(e,a,t){e.exports=t.p+"static/media/BEAUTHENTIC.565e2aab.svg"},function(e,a,t){e.exports=t.p+"static/media/BEACCOUNTABLE.75b15c47.svg"},function(e,a,t){e.exports=t.p+"static/media/BRINGEXCELLENCE.ab488dbc.svg"},,,,,,,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/loader.21047612.gif"},,,function(e,a,t){e.exports=t.p+"static/media/ace.457b7377.svg"},function(e,a,t){e.exports=t.p+"static/media/club.c24453be.svg"},function(e,a,t){e.exports=t.p+"static/media/diamond.6dae57f6.svg"},function(e,a,t){e.exports=t.p+"static/media/novice.e7cc67c0.svg"},function(e,a,t){e.exports=t.p+"static/media/star.50a147db.svg"},function(e,a,t){e.exports=t.p+"static/media/blue.04e1f1cc.svg"},function(e,a,t){e.exports=t.p+"static/media/bronze.8226a1de.svg"},function(e,a,t){e.exports=t.p+"static/media/captain.10fd8b72.svg"},function(e,a,t){e.exports=t.p+"static/media/champion.df2bd9d4.svg"},function(e,a,t){e.exports=t.p+"static/media/cheerleader.9d0a97e5.svg"},function(e,a,t){e.exports=t.p+"static/media/coach.804d9634.svg"},function(e,a,t){e.exports=t.p+"static/media/contributor.c4067768.svg"},function(e,a,t){e.exports=t.p+"static/media/gold.77041fd4.svg"},function(e,a,t){e.exports=t.p+"static/media/noGiven.20db2b58.svg"},function(e,a,t){e.exports=t.p+"static/media/noReceived.4f4e359d.svg"},function(e,a,t){e.exports=t.p+"static/media/silver.66244126.svg"},function(e,a,t){e.exports=t.p+"static/media/platinum.3b61e9e5.svg"},function(e,a,t){e.exports=t.p+"static/media/medalGray.3824d0c5.png"},function(e,a,t){e.exports=t.p+"static/media/apex-logo.5884363c.svg"},,,function(e,a,t){e.exports=t(137)},,,,,,,,,,function(e,a,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(26),i=t.n(o),s=t(17),l=t(31),c=t(18),m=(e={},a={})=>(t=a,n)=>"function"===typeof e[n.type]?e[n.type](t,n):t,u={USER_LOGGED:"USER_LOGGED"},d={userLogged:()=>({type:u.USER_LOGGED})},p=Object(c.a)(Object(c.a)({},u),d),h={isUserLogged:-1!==document.cookie.indexOf("login=")},v=m({[p.USER_LOGGED]:e=>Object(c.a)(Object(c.a)({},e),{},{isUserLogged:!0})},h),g=Object(s.b)({login:v}),f=t(12),E=t(13),b=t(4),w=t.n(b),N=t(8),y=new N.a,C=()=>-1===document.cookie.indexOf("login=")?fetch("".concat("https://core-values-web-backend-itg.herokuapp.com","/auth/"),{method:"GET"}).then(e=>e.json()).then(e=>window.location.href=e.authurl).catch(e=>console.log("Error trying to log, please try again",e)):null,x=t(44),k=t.n(x);t(78);class R extends n.Component{constructor(e){super(e)}render(){return r.a.createElement("div",{className:"loader"},r.a.createElement("img",{src:k.a}))}componentDidMount(){for(var e,a=this.props,t=a.location,n=a.actions.userLogged,r=t.search,o={},i=r.slice(r.indexOf("?")+1).split("&"),s=0;s<i.length;s++)"name"==(e=i[s].split("="))[0]?e[1]=decodeURI(e[1]):"email"==e[0]?e[1]=e[1].replace("%40","@"):"usertype"==e[0]&&(e[1]=decodeURI(e[1])),o[e[0]]=e[1];(e=>{var a=new Date(w()().add(1,"hour").format());y.set("login",e,{path:"/",expires:a})})(o),n(),setTimeout(this.props.history.push("/"),1e4)}}var _=Object(E.g)(Object(l.b)(e=>({isUserLogged:e.login.isUserLogged}),e=>({actions:Object(s.a)(p,e),dispatch:e}))(R)),D=t(2);t(120);class O extends n.Component{constructor(e){super(e),this.state={initialDate:this.props.data.initialDate,finalDate:this.props.data.finalDate,cityGiven:this.props.data.cityGiven,cityReceived:this.props.data.cityReceived,managerGiven:this.props.data.managerGiven,managerReceived:this.props.data.managerReceived,corevalue:this.props.data.corevalue}}render(){var e=this.props.data,a=e.initialDate,t=e.finalDate,n=e.cityGiven,o=e.cityReceived,i=e.managerGiven,s=e.managerReceived,l=e.corevalue;return r.a.createElement("div",null,r.a.createElement(D.Row,{className:"filters"},r.a.createElement(D.Col,{s:12},r.a.createElement("h1",null,"Filters")),r.a.createElement(D.Row,{className:"rangeValues"},r.a.createElement(D.Col,{s:12},r.a.createElement("h2",null,"Date")),r.a.createElement(D.Col,{s:12},r.a.createElement("h6",{s:2,className:"rangeLabel"},"From"),r.a.createElement(D.Input,{s:10,name:"on",type:"date",className:"datepicker",placeholder:a,value:a,onChange:e=>this.props.dataRangeChange(e,"Initial")})),r.a.createElement(D.Col,{s:12},r.a.createElement("h6",{s:2,className:"rangeLabel"},"To"),r.a.createElement(D.Input,{s:10,name:"on",type:"date",className:"datepicker",placeholder:t,value:t,onChange:e=>this.props.dataRangeChange(e,"Final")}))),r.a.createElement(D.Row,null,r.a.createElement(D.Col,{s:12,className:"selectFilter"},r.a.createElement(D.Input,{s:12,label:"From Region",type:"select",value:n,onChange:e=>this.props.filterChange(e,"cityGiven")},r.a.createElement("option",{value:""},"All Business Regions"),r.a.createElement("option",{value:"central"},"Central"),r.a.createElement("option",{value:"east"},"East"),r.a.createElement("option",{value:"west"},"West"),r.a.createElement("option",{value:"MDC"},"MDC")))),r.a.createElement(D.Row,null,r.a.createElement(D.Col,{s:12,className:"selectFilter"},r.a.createElement(D.Input,{s:12,label:"To City",type:"select",value:o,onChange:e=>this.props.filterChange(e,"cityReceived")},r.a.createElement("option",{value:""},"All Business Regions"),r.a.createElement("option",{value:"central"},"Central"),r.a.createElement("option",{value:"east"},"East"),r.a.createElement("option",{value:"west"},"West"),r.a.createElement("option",{value:"MDC"},"MDC")))),r.a.createElement(D.Row,null,r.a.createElement(D.Col,{s:12,className:"selectFilter"},r.a.createElement(D.Input,{s:12,label:"Intersys Values",type:"select",value:l,onChange:e=>this.props.filterChange(e,"coreValue")},r.a.createElement("option",{value:""},"All Core Values"),r.a.createElement("option",{value:"will_to_win"},"Will To Win"),r.a.createElement("option",{value:"do_the_right_thing"},"Do The Right Thing"),r.a.createElement("option",{value:"make_others_better"},"Make Other Better"),r.a.createElement("option",{value:"professionalism"},"Professionalism")))),r.a.createElement(D.Row,null,r.a.createElement(D.Col,{s:12,className:"selectFilter"},r.a.createElement(D.Input,{s:12,label:"Nominator Manager",type:"text",value:i,onChange:e=>this.props.filterChange(e,"managerGiven")}))),r.a.createElement(D.Row,null,r.a.createElement(D.Col,{s:12,className:"selectFilter"},r.a.createElement(D.Input,{s:12,label:"Nominee Manager",type:"text",value:s,onChange:e=>this.props.filterChange(e,"managerReceived")}))),r.a.createElement(D.Row,{className:"filtersButtons"},r.a.createElement(D.Col,{s:12},r.a.createElement(D.Button,{waves:"light",className:"clear",onClick:()=>this.props.clearFilters()},"Clear"),r.a.createElement(D.Button,{waves:"light",className:"apply",onClick:()=>this.props.applyFilters()},"Apply Filters")))))}}var j=O,I=t(66),G=(t(121),t(24)),S=t.n(G),L=t(28),F=t.n(L),M=t(29),A=t.n(M),T=t(30),V=t.n(T);class B extends n.Component{constructor(e){super(e),this.state={data:this.props.data}}getSvgCoreValue(e){switch(e){case"do_the_right_thing":return F.a;case"will_to_win":return A.a;case"make_others_better":return S.a;case"professionalism":return V.a;default:return S.a}}render(){var e=this.state.data.map(e=>({date:w()(e.nomination.date).format("LL"),value:r.a.createElement("img",{className:"core-value-img",alt:e.nomination.awardInfo.coreValue,src:this.getSvgCoreValue(e.nomination.awardInfo.coreValue)}),nominee:e.nomination.nomineeInfo.name.displayName,nominee_manager:e.nomination.nomineeInfo.manager.displayName,nominee_city:e.nomination.nomineeInfo.location,nominator:e.nomination.nominatorInfo.name.displayName,nominator_manager:e.nomination.nominatorInfo.manager.displayName,nominator_city:e.nomination.nominatorInfo.location}));return r.a.createElement(D.Row,{className:"reportTable"},r.a.createElement(D.Col,{s:12},r.a.createElement("h1",null,"Data")),r.a.createElement(I.a,{data:e,columns:[{Header:"General",columns:[{Header:"Date",accessor:"date"},{Header:"Value",accessor:"value"}]},{Header:"Nominee Info",columns:[{Header:"Name",accessor:"nominee"},{Header:"Manager",accessor:"nominee_manager"},{Header:"Region",accessor:"nominee_city"}]},{Header:"Nominator Info",columns:[{Header:"Name",accessor:"nominator"},{Header:"Manager",accessor:"nominator_manager"},{Header:"Region",accessor:"nominator_city"}]}],defaultPageSize:10,showPageSizeOptions:!1,className:"-striped -highlight"}),r.a.createElement(D.Col,{s:12,className:"exportExcel"},r.a.createElement(D.Button,{waves:"light",node:"a",href:"https://core-values-web-backend-itg.herokuapp.com/stats/excel?"+this.props.query},"Export to Excel")))}}var Y=B,U=(t(122),new N.a);function H(e){var a,t=w()().quarter(),n="",r="",o=(new Date).getFullYear();switch(t){case 1:n=w()(o+"-01-01").format("LL"),r=w()(o+"-03-31").format("LL");break;case 2:n=w()(o+"-04-01").format("LL"),r=w()(o+"-06-30").format("LL");break;case 3:n=w()(o+"-07-01").format("LL"),r=w()(o+"-09-30").format("LL");break;case 4:n=w()(o+"-10-01").format("LL"),r=w()(o+"-12-31").format("LL");break;default:console.log("Not valid date")}return a={initialDate:n,finalDate:r},"initialDate"===e?a.initialDate:"finalDate"===e?a.finalDate:void 0}class z extends n.Component{constructor(e){super(e),this.state={initialDate:H("initialDate"),finalDate:H("finalDate"),cityGiven:"",cityReceived:"",managerGiven:"",managerReceived:"",corevalue:"",loaded:!1,data:[],query:""},this.dataRangeChange=this.dataRangeChange.bind(this),this.filterChange=this.filterChange.bind(this),this.clearFilters=this.clearFilters.bind(this),this.applyFilters=this.applyFilters.bind(this)}dataRangeChange(e,a){e.preventDefault();var t=e.target.value;""!==t?((t=t.split(" "))[1]=t[1].slice(0,-1),t=t[1]+" "+t[0]+", "+t[2]):t="","Initial"===a?this.setState({initialDate:t}):"Final"===a&&this.setState({finalDate:t})}filterChange(e,a){e.preventDefault();var t=e.target.value;switch(a){case"cityGiven":this.setState({cityGiven:t});break;case"cityReceived":this.setState({cityReceived:t});break;case"level":this.setState({level:t});break;case"managerGiven":this.setState({managerGiven:t});break;case"managerReceived":this.setState({managerReceived:t});break;case"coreValue":this.setState({corevalue:t});break;default:console.log("VALUE TYPE NOT RECOGNIZED \n","Type Received: "+a+"\n","Value Received: "+t)}}clearFilters(){this.setState({initialDate:H("initialDate"),finalDate:H("finalDate"),cityGiven:"",cityReceived:"",managerGiven:"",managerReceived:"",corevalue:"",loaded:!1,data:[]}),this.applyFilters()}applyFilters(){this.setState({loaded:!1});var e=this.state,a=e.initialDate,t=e.finalDate,n=e.cityGiven,r=e.cityReceived,o=e.managerGiven,i=e.managerReceived,s=e.corevalue,l=(e.loaded,"");return""!==a&&(""!==l&&(l+="&"),l+="from="+w()(a).format("YYYY-MM-DD")),""!==t&&(""!==l&&(l+="&"),l+="to="+w()(t).format("YYYY-MM-DD")),""!==n&&(""!==l&&(l+="&"),l+="citygiven="+n),""!=r&&(""!==l&&(l+="&"),l+="cityreceived="+r),""!=o&&(""!==l&&(l+="&"),l+="managergiven="+o),""!=i&&(""!==l&&(l+="&"),l+="managerreceived="+i),""!=s&&(""!==l&&(l+="&"),l+="value="+s),this.setState({query:l}),fetch("".concat("https://core-values-web-backend-itg.herokuapp.com","/stats?").concat(l),{method:"GET"}).then(e=>e.json()).then(e=>{this.setState({data:e,loaded:!0})}).catch(e=>{console.log("Error applying filters, please try again")})}UNSAFE_componentWillMount(){void 0===U.get("login")&&C(),this.applyFilters()}render(){return!1===this.state.loaded?r.a.createElement("div",null,r.a.createElement(D.ProgressBar,null)):"normal"===U.get("login").usertype?r.a.createElement(E.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(D.Row,{className:"reportsHeader"},r.a.createElement(D.Col,{s:12},r.a.createElement("h1",null,"Stats"))),r.a.createElement(D.Row,null,r.a.createElement(D.Col,{s:12,m:3},r.a.createElement(j,{dataRangeChange:this.dataRangeChange,filterChange:this.filterChange,data:this.state,clearFilters:this.clearFilters,applyFilters:this.applyFilters})),r.a.createElement(D.Col,{s:12,m:9},r.a.createElement(Y,{data:this.state.data,query:this.state.query,applyFilters:this.applyFilters}))))}}var W=z,q=t(6),P=t.n(q),J=t(15),K=t(16),X={ace:{name:"CVA Received",legend:"Receive 1 nomination"},novice:{name:"Novice Nominator",legend:"Make 1 nomination"},club:{name:"Club",legend:"3 awards for the same value"},star:{name:"Super Star",legend:"5 awards for the same value"},diamond:{name:"Diamond",legend:"Earn one of each 4 Core Values"}},Z=(t(124),t(47)),$=t.n(Z),Q=t(48),ee=t.n(Q),ae=t(49),te=t.n(ae),ne=t(50),re=t.n(ne),oe=t(51),ie=t.n(oe),se={ace:$.a,club:ee.a,diamond:te.a,novice:re.a,star:ie.a};var le=function({awardsInformation:e}){if(!e)return null;var a=e.kudos,t=Object.keys(se).map(e=>r.a.createElement("div",{className:"tooltip-wrapper",key:"tooltip-kudos-".concat(e)},r.a.createElement("img",{alt:"kudos-".concat(e,"-badge"),className:-1!==a.indexOf(e)?"kudos-badge active-badge":"kudos-badge",src:se[e]}),r.a.createElement("div",{className:"tooltip"},r.a.createElement("span",null,X[e].name,": "),X[e].legend)));return r.a.createElement("div",{className:"kudos-badges-container"},r.a.createElement("p",{className:"title"},"My Kudos Badges"),t)},ce=(t(125),t(52)),me=t.n(ce),ue=t(53),de=t.n(ue),pe=t(54),he=t.n(pe),ve=t(55),ge=t.n(ve),fe=t(56),Ee=t.n(fe),be=t(57),we=t.n(be),Ne=t(58),ye=t.n(Ne),Ce=t(59),xe=t.n(Ce),ke=t(60),Re=t.n(ke),_e=t(61),De=t.n(_e),Oe=t(62),je=t.n(Oe),Ie=t(63),Ge=t.n(Ie),Se={noGiven:Re.a,noReceived:De.a,blue:me.a,bronze:de.a,silver:je.a,gold:xe.a,platinum:Ge.a,contributor:ye.a,cheerleader:Ee.a,coach:we.a,captain:he.a,champion:ge.a};var Le=function({count:e,medal:a,title:t}){return r.a.createElement("div",{className:"medal-container"},r.a.createElement("p",{className:"title"},t,": ",r.a.createElement("span",{className:"count"},e)),r.a.createElement("img",{className:"medal-image",src:Se[a]}))};t(126);var Fe=function({countToNext:e,currentMedal:a,nextMedal:t}){return 0===e?r.a.createElement("div",{className:"tooltip"},r.a.createElement("p",{className:"highest-level"},r.a.createElement("span",null,"Congratulations!")," you are awesome, have reached the highest level")):r.a.createElement("div",{className:"tooltip"},"noGiven"!==a&&"noReceived"!==a?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"text"},"You currently earned a"),r.a.createElement("p",{className:"current-level"},a," badge")):"",r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"count"},e),r.a.createElement("p",{className:"text"},e>1?"more nominations to":"more nomination to"),r.a.createElement("p",{className:"next-level"},"".concat(t," badge"))))};t(127);var Me=function({awardsInformation:e}){if(!e)return r.a.createElement("div",{className:"medals-container"},r.a.createElement(D.ProgressBar,null));var a=e.badges.awarded,t=e.badges.earned,n=e.nextBadges.awarded,o=e.nextBadges.earned;return r.a.createElement("div",{className:"medals-container"},r.a.createElement("div",{className:"medal-tooltip-wrapper"},r.a.createElement(Le,{count:a.count,medal:a.medal,title:"Awards Given"}),r.a.createElement(Fe,{countToNext:n.count,currentMedal:a.medal,nextMedal:n.next})),r.a.createElement("div",{className:"medal-tooltip-wrapper"},r.a.createElement(Le,{count:t.count,medal:t.medal,title:"Awards Received"}),r.a.createElement(Fe,{countToNext:o.count,currentMedal:t.medal,nextMedal:o.next})))},Ae=new N.a;t(128);var Te=function(){var e=Object(n.useState)(null),a=Object(K.a)(e,2),t=a[0],o=a[1],i=function(){var e=Object(J.a)(P.a.mark((function e(){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://core-values-web-backend-itg.herokuapp.com","/user/gamification/").concat(Ae.get("login").username),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(Ae.get("login").token),"Content-Type":"application/json"},method:"GET"}).then(e=>e.json()).then(e=>e).catch(e=>console.log("Error retrieving awards information, please try again",e.message));case 2:a=e.sent,o(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(()=>{i()},[]),r.a.createElement("div",{className:"home-page"},r.a.createElement("div",{className:"home-header"},r.a.createElement("h1",null,"Apex Core Values Awards"),r.a.createElement(f.b,{to:"/nominate"},r.a.createElement(D.Button,{waves:"light"},"Nominate Now"))),r.a.createElement("div",{className:"home-container"},r.a.createElement(Me,{awardsInformation:t}),r.a.createElement(le,{awardsInformation:t})))},Ve=t(67),Be=e=>{var a=e.divider,t=e.children,n=e.href,o=void 0===n?"":n,i=e.onClick,s=Object(Ve.a)(e,["divider","children","href","onClick"]);if(a)return r.a.createElement("li",{className:"divider"});var l=i?r.a.createElement("a",{onClick:i},t):r.a.createElement(f.b,{to:o},t);return r.a.createElement("li",s,l)},Ye=(t(129),t(64)),Ue=t.n(Ye),He=(new Date).getFullYear();class ze extends n.Component{constructor(e){super(e),this.getCoreValue=this.getCoreValue.bind(this)}getCoreValue(e){switch(e){case"beaccountable":return A.a;case"beauthentic":return F.a;case"beinservice":return S.a;case"bringexcellence":return V.a;default:return S.a}}getDiploma(e,a){var t="".concat("https://core-values-web-backend-itg.herokuapp.com","/form/diploma/").concat(a);if("Received"===this.props.type)return"th"===e?r.a.createElement("th",{className:"diploma","data-field":"diploma"},"Diploma"):r.a.createElement("td",{className:"diploma"},r.a.createElement("a",{href:t},r.a.createElement("i",{class:"material-icons"},"movie_filter")))}render(){return 0===this.props.awards.length?r.a.createElement("div",{className:"no_awards"},"Given"===this.props.type?r.a.createElement("h2",null,"\ud83d\ude14 No Awards given yet for ",r.a.createElement("span",null,He)):r.a.createElement("h2",null,"\ud83d\ude14 No Awards received yet for ",r.a.createElement("span",null,He)),r.a.createElement("img",{src:Ue.a,alt:"medal"})):r.a.createElement("div",null,r.a.createElement(D.Table,{className:"my_activity"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"date","data-field":"date"},"Date"),"Given"===this.props.type?r.a.createElement("th",{className:"name","data-field":"name"},"Nominee"):r.a.createElement("th",{"data-field":"name"},"Nominator"),r.a.createElement("th",{className:"value","data-field":"value"},"Value"),r.a.createElement("th",{className:"reason","data-field":"reason"},"Reason"),this.getDiploma("th"))),r.a.createElement("tbody",null,this.props&&this.props.awards&&this.props.awards.map(e=>r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"date"},w()(new Date(e.nomination.date)).format("MMMM Do, YYYY")),"Given"===this.props.type?r.a.createElement("td",{className:"name"},e.nomination.nomineeInfo.name.displayName):r.a.createElement("td",{className:"name"},e.nomination.nominatorInfo.name.displayName),r.a.createElement("td",{className:"value"},r.a.createElement("img",{className:"core_value",alt:e.nomination.awardInfo.coreValue,src:this.getCoreValue(e.nomination.awardInfo.coreValue)})),r.a.createElement("td",{className:"reason"},e.nomination.awardInfo.reason),this.getDiploma("td",e._id))))))}}t(130);class We extends n.Component{render(){return r.a.createElement(D.Row,{className:"tabs-container"},r.a.createElement(D.Col,{s:12,m:12},r.a.createElement(D.Tabs,{className:"z-depth-1 awards-tabs"},r.a.createElement(D.Tab,{title:"Given",active:!0},r.a.createElement(D.Row,{className:"tab-container"},r.a.createElement(D.Col,{s:12,m:12},r.a.createElement(ze,{awards:this.props.sent,type:"Given"})))),r.a.createElement(D.Tab,{title:"Received"},r.a.createElement(D.Row,{className:"tab-container"},r.a.createElement(D.Col,{s:12,m:12},r.a.createElement(ze,{awards:this.props.received,type:"Received"})))))))}}var qe=new N.a;class Pe extends n.Component{constructor(e){super(e),this.state={nominations_sent:[],nominations_received:[],page_loaded:!1},this.fetchData=this.fetchData.bind(this),this.clearData=this.clearData.bind(this)}fetchData(){fetch("".concat("https://core-values-web-backend-itg.herokuapp.com","/form")).then(e=>e.json()).then(e=>{var a=e.filter(e=>"".concat(e.nomination.nomineeInfo.name.user,"@apexsystems.com")==qe.get("login").email),t=e.filter(e=>"".concat(e.nomination.nominatorInfo.name.user,"@apexsystems.com")==qe.get("login").email);this.setState({nominations_received:a,nominations_sent:t,page_loaded:!0})})}clearData(){this.setState({nominations_sent:[],nominations_received:[],page_loaded:!1})}render(){var e=this.state,a=e.page_loaded,t=e.nominations_sent,n=e.nominations_received;return r.a.createElement(D.Modal,{id:"awardModal",header:"Awards",modalOptions:{ready:this.fetchData,complete:this.clearData},trigger:r.a.createElement(Be,null,"My Activity")},a?r.a.createElement(We,{sent:t,received:n}):r.a.createElement(D.Row,null," ",r.a.createElement(D.Col,{s:12}," ",r.a.createElement(D.ProgressBar,null)," ")," "))}}var Je=Pe,Ke=t(65),Xe=t.n(Ke),Ze=(t(131),new N.a),$e=({href:e,children:a})=>r.a.createElement("li",null,r.a.createElement(f.b,{to:e},a));var Qe=function(){var e=Object(n.useState)({}),a=Object(K.a)(e,2),t=a[0],o=a[1];Object(n.useEffect)(()=>{o(Ze.get("login"))},[]);var i=r.a.createElement(f.b,{to:"/"},r.a.createElement("img",{href:"/",className:"logo",src:Xe.a}));return r.a.createElement(D.Navbar,{brand:i,right:!0,className:"navigation-bar"},r.a.createElement($e,{href:"/"},r.a.createElement(D.Icon,null,"home")),r.a.createElement($e,{href:"/nominate"},"Nominate"),r.a.createElement(Je,null),t&&"admin"===t.usertype?r.a.createElement($e,{href:"/stats"},"Stats"):null,r.a.createElement(D.Dropdown,{trigger:r.a.createElement(D.NavItem,{className:"session-menu"},t&&t.name,r.a.createElement("i",{className:"material-icons right"},"keyboard_arrow_down"))},r.a.createElement("li",{className:"help"},r.a.createElement("a",{href:"https://intersysconsulting.slack.com/app_redirect?channel=recognition-app-help",target:"_blank"},"help",r.a.createElement("i",{className:"material-icons right"},"help"))),r.a.createElement("li",{className:"sign-out",onClick:e=>(e=>{e.preventDefault(),Ze.remove("login",{path:"/"}),C()})(e)},r.a.createElement("p",null,"Sign Out ",r.a.createElement("i",{className:"material-icons right"},"power_settings_new")))))};t(132);var ea=function({sendForm:e}){return r.a.createElement("div",{className:"buttons-container"},r.a.createElement(D.Button,{className:"submit-and-add-more-button",id:"continue",key:"continue",onClick:()=>e("continue"),waves:"light"},"Submit and Add More Nominations"),r.a.createElement(D.Button,{className:"submit-button",id:"send",key:"send",onClick:()=>e("send"),waves:"light"},"Submit"))},aa={will_to_win:"apex-teal",do_the_right_thing:"apex-orange",make_others_better:"apex-dark-blue",professionalism:"apex-blue"};t(133);var ta=function({onValueSelection:e,selectedValue:a,valuesList:t}){if(Array.isArray(t)&&0!==t.length){var n=t.map(t=>{var n,o="value ".concat(t===a?"active ".concat(aa[t]):"default-color");return r.a.createElement(D.Button,{className:o,id:t,key:"value-button-".concat(t),onClick:a=>e(a.target.value),value:t,waves:"light"},(n=t)?n.replace(/\_/g," ").replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()):"")});return r.a.createElement("div",{className:"values-container"},r.a.createElement("p",{className:"title"},"Choose a Value"),n)}},na=["will_to_win","do_the_right_thing","make_others_better","professionalism"],ra={message:{error:null,valid:!1},nomineeName:{error:null,valid:!1}},oa=new N.a,ia="https://core-values-web-backend-itg.herokuapp.com";function sa(e,a,t){return la.apply(this,arguments)}function la(){return(la=Object(J.a)(P.a.mark((function e(a,t,n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(ia,"/form"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"".concat(oa.get("login").token)},body:JSON.stringify({nomination:{awardInfo:{coreValue:n,reason:t},nomineeInfo:{name:a}}}),mode:"cors"}).then(e=>200===e.status).catch(e=>console.log("Error sending form to server, please try again",e.message)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ca(e){return ma.apply(this,arguments)}function ma(){return(ma=Object(J.a)(P.a.mark((function e(a){var t,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.toLowerCase(),e.next=3,fetch("".concat(ia,"/user/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"".concat(oa.get("login").token)},mode:"cors"}).then(e=>e.status).catch(e=>console.log("Error validating email, please try again",e.message));case 3:n=e.sent,e.t0=n,e.next=200===e.t0?7:401===e.t0?8:403===e.t0?9:10;break;case 7:return e.abrupt("return",[!0,""]);case 8:return e.abrupt("return",[!1,ua.nomineeName]);case 9:return e.abrupt("return",[!1,ua.noAutoNomination]);case 10:return e.abrupt("return",[!1,"errorInRequest"]);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ua={nomineeName:"The email provided is not valid or is not part of the organization",message:"The minimum lenght is 15 characters and maximum is 255",noAutoNomination:"You can not nominate yourself, please try with something more ethic",errorInRequest:"The email validator is experiencing issues, please try again, if the issue continues contact the administrators"},da={nomineeName:function(){var e=Object(J.a)(P.a.mark((function e(a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),message:e=>{return(a=e).length>=5&&a.length<=255?[!0,""]:[!1,ua.message];var a}};t(134);var pa=function({history:e}){var a=Object(n.useState)(""),t=Object(K.a)(a,2),o=t[0],i=t[1],s=Object(n.useState)(""),l=Object(K.a)(s,2),m=l[0],u=l[1],d=Object(n.useState)("will_to_win"),p=Object(K.a)(d,2),h=p[0],v=p[1],g=Object(n.useState)(ra),f=Object(K.a)(g,2),E=f[0],b=f[1],w=function(){var e=Object(J.a)(P.a.mark((function e(a,t){var n,r,o,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return");case 2:return n=Object(c.a)({},E),e.next=5,da[a](t);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=[!1,"Unknown field, no validation performed"];case 8:r=e.t0,o=r[0],i=r[1],Object.assign(n,{[a]:{error:i,valid:o}}),b(n);case 14:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),N=function(){var a=Object(J.a)(P.a.mark((function a(t){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!y()){a.next=6;break}return a.next=4,sa(m,o,h);case 4:a.sent&&(window.Materialize.toast('Your Nomination has been <span>successfully sent</span><i class="material-icons">check</i>',4e3,"success-toast"),"send"===t?e.push("/"):(i(""),u(""),v("will_to_win"),b(ra)));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),y=()=>{var e=!0;return Object.keys(E).forEach(a=>{E[a].valid||(e=!1)}),e||window.Materialize.toast('You have information to be completed, please properly fill it before sending your nomination <i class="material-icons">info</i>',4e3,"info-toast"),e};return r.a.createElement("div",{className:"nomination-form"},r.a.createElement("div",{className:"nomination-header"},r.a.createElement("h1",null,"New Nomination")),r.a.createElement("div",{className:"nomination-form-container"},r.a.createElement(ta,{onValueSelection:v,selectedValue:h,valuesList:na}),r.a.createElement("div",{className:"fields-container"},r.a.createElement("div",{className:"email-field"},r.a.createElement(D.Input,{id:"nomineeName",error:E.nomineeName.error,label:"Nominee Email*",onBlur:e=>w(e.target.id,e.target.value),onChange:e=>u(e.target.value),placeholder:"email",type:"text",value:m},r.a.createElement("span",null,"@apexsystems.com"))),r.a.createElement(D.Input,{id:"message",error:E.message.error,label:"Your message for the nominee*",maxLength:"255",onBlur:e=>w(e.target.id,e.target.value),onChange:e=>i(e.target.value),type:"textarea",value:o}),r.a.createElement(ea,{sendForm:N}))))};t(135);var ha=function({location:e}){return r.a.createElement("div",null,r.a.createElement("h3",null,r.a.createElement("p",null,"Error 404 ",r.a.createElement("code",null,e.pathname)," Not Found ")))};var va=function(){return Object(n.useEffect)(()=>{C()},[]),r.a.createElement(f.a,{basename:"/core-values-web-app"},r.a.createElement("div",{className:"app"},r.a.createElement(Qe,null),r.a.createElement("div",{id:"app-content"},r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/",component:Te}),r.a.createElement(E.b,{exact:!0,path:"/auth",component:_}),r.a.createElement(E.b,{exact:!0,path:"/stats",component:W}),r.a.createElement(E.b,{exact:!0,path:"/nominate",component:pa}),r.a.createElement(E.b,{component:ha})))))},ga=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function fa(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{var a=e.installing;a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(e=>{console.error("Error during service worker registration:",e)})}t(136);var Ea=Object(s.c)(g);i.a.render(r.a.createElement(l.a,{store:Ea},r.a.createElement(va,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/core-values-web-app",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{var e="".concat("/core-values-web-app","/service-worker.js");ga?function(e){fetch(e).then(a=>{404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):fa(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e):fa(e)})}}()}]),[[68,1,2]]]);
//# sourceMappingURL=main.d8a5c634.chunk.js.map